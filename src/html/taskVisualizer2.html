<!DOCTYPE html>
<html>
<head>
	<title>TV2</title>
	<script type="text/javascript" src="../Libraries/angular.min.js"></script>
	<script type="text/javascript" src="../NScripts/tasks.js"></script>
	<script>
		window.TaskManager = require("../NScripts/tasks.js");
		console.log(window.TaskManager)
	</script>
	
	<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css" media="screen" title="no title" charset="utf-8">
	<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
	<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css">
	<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

	<link rel="stylesheet" type="text/css" href="../css/visualizer-angular.css">
	<script type="text/javascript" src="../Scripts/visualizer-angular.js"></script>
	<script>
		setTimeout(function() {
			var $scope = angular.element(document.getElementById('TaskVisualizer')).scope();
			var tasks = $scope.tasks;
			tasks.push({
				taskName:"test1",
				taskIndex:0,
				children:[{
					taskName:"test1-child-2",
					taskIndex:2,
					children:[]
				}, {
					taskName:"test1-child-1",
					taskIndex:1,
					parent:0,
					children:[{
						taskName:"test1-child-1.1",
						taskIndex:1,
						parent:0,
						children:[]
					}]
				}, {
					taskName:"test1-child-3",
					taskIndex:2,
					children:[]
				}]
			})
			tasks.push({
				taskName:"test2",
				taskIndex:0,
				children:[{
					taskName:"test2-child-2",
					taskIndex:2,
					children:[]
				}]
			})


			$scope.$apply(function() {
				$scope.tasks = tasks;
				$scope.reDrawTree()
			})
		}, 1000)

	</script>
</head>
<body>
	<div id="TaskVisualizer" ng-app="visualizer" ng-controller="tasks" tree>
		<div task-tree tree-data="tasks" class="tree"></div>
	</div>
</body>
</html>